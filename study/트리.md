# 트리(tree)
- 계층형 구조를 시뮬레이션하는 추상 자료형(ADT)으로 루트 값과 부모-자식 관계의 서브 트리로 구성되며 서로 연결된 노드의 집합이다.
- 뿌리와 가지로 구성되어 거꾸로 세워놓은 나무처럼 보이는 계층형 비선형 자료 구조.
- 비선형 구조로 선형 구조와는 다르게 데이터가 계층적 혹은 망으로 구성되어있다. 
    - 선형 구조는 자료를 저장하고 꺼내는 것에 초점이 맞춰져 있고, 비 선형 구조는 표현에 초점이 맞춰져있다. 
- 트리는 그래프의 일종으로 특정한 종류의 그래프이다. 트리는 무방향 그래프와 부분 집합이다. 

## 트리 속성
- 재귀로 정의된 자기 참조 자료구조다.
    - 트리는 자식도 트리고, 그 자식도 트리다. 즉, 여러개의 트리가 쌓아올려져 큰 트리가 된다. 흔히 **서브 트리**로 구성된다고 표현한다.
- 부모-자식 관계가 존재해 레벨이 존재한다. 
- 노드가 N개라고 할때, 간선은 N-1개. 각 레벨 k에 존재하는 노드는 2^K개(완전 이진트리의 경우)
- 방향성이 존재하고 사이클은 존재하지않는다. 즉 비순환한다.
- 트리의 순회는 전위 순회, 중위순회, 후위순회 3가지가 존재한다. 

## 트리에서 사용하는 용어 

![image](https://github-production-user-asset-6210df.s3.amazonaws.com/123913164/500970014-c10aaf14-68c2-4ee6-ab9a-ba08820bbe6a.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAVCODYLSA53PQK4ZA%2F20251014%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20251014T133341Z&X-Amz-Expires=300&X-Amz-Signature=568f86ea35777f1c9406a59cf650f7dc7fdec3b466b360af6ee5a53044274f75&X-Amz-SignedHeaders=host)

- Node : 트리에서 데이터를 저장하는 기본 요소 
- Root Node : 트리 맨 위에 있는 노드로 루트 노드는 하나이다. 루트는 자식(child) 노드를 가지며 간선(Edge)으로 연결 되어있다. 
- Degree : 자식 노드의 개수는 차수라고 하며 크기는 자신을 포함한 모든 자식 노드의 개수다.
- Height : 현재 위치에서 부터 리프(Leaf) 까지의 거리다.
- Level: 최상위 노드를 Level 0으로 하였을 때, 하위 Branch로 연결된 노드의 깊이를 나타낸다.
- Parent Node: 어떤 노드의 상위 레벨에 연결된 노드. tree의 부분집합을 sub-tree라고 쳤을때(위의 그림을 예시로 들자면 D,H,I 로 이뤄진 트리라고 할 수 있다.) sub-tree에서 root node를 말한다. Root node만 유일하게 parent node가 없다.
- Child Node: 어떤 노드의 하위 레벨에 연결된 노드. Parent node와 child node는 상대적인 개념이라, 위 그림에서 C는 A의 child node이면서 F와 G의 parent node이다.
- Leaf Node(Terminal Node): Child Node가 하나도 없는 노드, : tree의 끝점이 되는 노드(Child node가 하나도 없는 노드). 단말(terminal) 노드라고도 부른다.
- Sibling: 동일한 Parent Node를 가진 노드
- Depth: 루트에서 어떤 노드에 도달하기 위해 거쳐야 하는 간선의 수. 루트에서부터 현재 노드까지의 거리다. 


## 그래프 VS 트리 
! [그래프에 대한 설명](https://github.com/leemanbokgoo/Algorithm-Study/blob/main/study/%EA%B7%B8%EB%9E%98%ED%94%84.md)

- 주요 차이점은 순환유무, 계층구조, 연결성이다.

### 순환 유무 
- 트리는 순환구조를 갖지않는 그래프이다. 둘의 핵심 차이는 순환구조가 아니라는 데 있다. 트리는 특수한 형태의 그래프의 일종이며 크게 그래프의 범주에 포함된다. 하지만 트리는 그래프와 달리 어떠한 경우에도 한번 연결된 노드가 다시 연결되는 법이 없다.
- 그래프는 순환이 발생할 수 있다. 비순환 그래프일수도 있고 순환 그래프일수도 있다. 

### 루트의 계층적 구조
- 트리는 하나의 루트 노드를 가지며, 모든 노드는 이 루트 노드로 부터 어떤 경로를 통해 도달 할 수 있다. 또한 트리는 계층적인 구조를 가지며, 각 노드는 하나의 부모노드와 여러개의 자식 노드를 가질 수 있다. 부모노드 또한 하나여야한다.
- 그래프는 루트 노드가 없거나 여러개의 루트 노드를 가질 수 있고 노드간의 관계가 자유로운 형태일 수 있다. 계층 구조가 강제 되지않는다.

### 간선의 방향성
- 트리는 부모 → 자식 단방향 자료구조이다. 
- 그래프는 방향 그래프일 수 있으며 바향이 자유롭게 지정될 수 있다. 

### 연결성
- 트리는 서로 항상 연결 되어있어야한다. 트리에서 "연결된" 상태란, 임의의 두 노드 사이에 반드시 경로가 존재한다는 것을 의미한다.
- 그래프는 연결 되어있지않을 수도있다. 비연결 그래프 (Disconnected Graph) 또는 분리된 그래프가 존재할 수 있다. 

### 가중치와 속성
- 트리는 노드의 값 자체를 데이터로 다루는 경우가 많아, 간선에 별도의 가중치를 두지 않는 것이 일반적이다. 하지만, 가중치나 속성을 가질 수 있다. (예: 우선순위 큐를 구현하는 **힙(Heap)**은 노드의 값에 우선순위 가중치가 부여된 트리 형태.)

- 그래프는 간선에 가중치를 가질 수 있으며 노드와 간선에 다양한 속성이 할당 될 수 있다. 


## 트리 종류
- 트리 중에서도 가장 널리 사용되는 트리 자료구조는 이진 트리와 이진 탐색 트리(이하 BST)ek.

### 이진 트리 
![image](https://github-production-user-asset-6210df.s3.amazonaws.com/123913164/500986945-2ccf65c6-6519-4b2c-af5b-4bb580bacb23.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAVCODYLSA53PQK4ZA%2F20251014%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20251014T140935Z&X-Amz-Expires=300&X-Amz-Signature=8911444c9e6a45b367dc2a5a83fef2acbe0391f75f67609cb88d2bbe7a81bc28&X-Amz-SignedHeaders=host)

- 각 노드가 m개 이하의 자식을 가지고 있으면 m-ary트리(다항트리, 다진트리)라고 한다. 여기서 m=2일 경우. 즉, 모든 노드의 차수가 2 이하일때는 특별히 이진 트리(binary tree)라고 구분해서 부른다.
- 이진 트리는 왼쪽(left child), 오른쪽(right child) 최대 2개의 자식을 갖는 매우 단순한 형태로 다진 트리에 비해 간결할 뿐 아니라 여러가지 알고리즘을 구현하는 일도 좀 더 간단하게 처리할 수 있어서 대체로 트리라고 하면 이진트리를 일컫는다.
- 자료를 효율적으로 정렬하고 탐색하는데 매우 유용하며, 다양한 알고리즘에서 널리 사용된다.

### 이진 트리의 주요 특징
- 자식 노드 수 제한 : 각 노드가 최대 2개의 자식 노드를 가질 수 있다.
    - 왼쪽 자식과, 오른쪽 자식으로만 연결된다.
    - 둘 중 하나가 없거나 둘다 없어도 상관없다.
- 재귀적 구조 : 트리는 본질적으로 재귀적 구조를 가진다. 하위 트리(sub-tree)들도 하나의 이진 트리로 취급된다.
- 균형성 : 이진 트리에서는 노드가 어느 한쪽에 치우치지않고 균형적으로 분포되는 것이 이상적이다.
    - 균형 잡힌 트리(Balanced Binary Tree) : 탐색, 삽입, 삭제와 같은 연산에서 O(log n)의 시간복잡도를 가진다.
    - 비균형 트리는 특정한 경로가 지나치게 길어지면 선형 탐색과 유사한 O(n)의 시간복잡도를 가질 수 있다. 

### Binary Tree의 용도
- 이진 트리는 그 특성상 여러 분야에서 탐색, 정렬, 데이터 관리 등의 목적으로 널리 사용된다.

#### 이진 탐색 트리(Binary Search Tree, BST)
- 이진 탐색 트리는 각 노드가 왼쪽 자식은 부모보다 작은 값, 오른쪽 자식은 부모보다 큰 값을 가지도록 구성된 트리이다. 이를 통해 빠른 검색과 정렬을 가능하다. 
- 다만, BST는 삽입과 삭제 과정에서 트리가 한쪽으로 치우쳐 비균형 상태가 될 수 있다.
- 이 경우, 탐색 성능이 O(n)으로 저하될 수 있으며, 이를 해결하기 위해 AVL 트리나 Red-Black 트리와 같은 자체 균형 트리가 사용된다.

#### 힙(Heap)
- 힙은 최대값 또는 최소값을 빠르게 찾기 위해 사용하는 완전 이진 트리이다. 주로 우선순위 큐 및 최단 경로 탐색에 활용된다.
- 최대 힙(Max Heap)에서는 부모 노드의 값이 자식 노드보다 크거나 같습니다, 반면에 최소 힙(Min Heap)에서는 부모 노드의 값이 자식 노드보다 작거나 같다.
- 힙은 주로 우선순위 큐, 최단 경로 탐색 등의 알고리즘에서 사용된다.

#### 트리 기반 검색 알고리즘
- 이진 트리는 이진 탐색, 트리 순회 알고리즘(Pre-order, In-order, Post-order) 등에서도 매우 유용하게 쓰인다.

### 이진 트리 유형
! [해당 링크 참고](https://velog.io/@dankj1991/Tree-Binary-Tree)
- 정 이진 트리(Full Binary Tree) : 모든 노드가 0개 또는 2개의 자식 노드를 갖는다.
- 완전 이진 트리(Complete Binary Tree) : 마지막 레벨을 제외하고 모든 레벨이 완전히 채워져있으며, 마지막 레벨의 노드는 가장 왼쪽부터 채워져있다.
- 포화 이진 트리(Perfect Binary Tree) : 모든 노드가 2개의 자식 노드를 갖고 있으며, 모든 리프 노드가 동일한 깊이 또는 레벨을 갖는다. 문자 그대로, 가장 완벽한 유형의 트리다.  


### 이진 트리 탐색 기본 템플릿 코드 

```
# 트리 노드를 만들기 위한 클래스 선언
class TreeNode:
    def __init__(self, val=0, left=None, right=None):
        self.val = val
        self.left = left
        self.right = right

class Solution:
    # 클래스 변수 
    def __init__(self):
        self.longest = 0
        
    # 실제 풀이 함수
    def diameterOfBinaryTree(self, root: TreeNode) -> int:
    
        # dfs를 중첩 함수로 선언
        def dfs(node: TreeNode) -> int:
            # 리프 노드의 자식 노드에 도달했을때 스왑이 일어나도록 -1 리턴
            # 실제로 리프 노드는 자식 노드를 가지지않지만 코드 동작상, 가진다고 임의적으로 설정한 개념.
            if not node:
                return -1
            
            # 재귀 함수를 호출하여 left 자식 노드와 right 자식 노드를 탐색
            left = dfs(node.left)
            right = dfs(node.right)
           
            # 탐색한 결과로 결과 값 갱신 시도 
            self.longest = max(self.longest, left + right + 2)
            
            # 부모 재귀 함수에 보낼 리턴 값.
            return max(left, right) + 1
        
        # dfs 호출 
        dfs(root)
        
        # 결과 값 리턴 
        return self.longest
```


#### 참고 링크 
https://planbs.tistory.com/entry/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0-Tree%EC%99%80-Tree%EC%9D%98-%ED%91%9C%ED%98%84-%EB%B0%A9%EC%8B%9D

https://vitaminlog.tistory.com/59

https://bigsong.tistory.com/33

- 트리 유형을 자세히 알고 싶으면 밑의 링크를 참고 
https://velog.io/@dankj1991/Tree-Binary-Tree